<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
<div id="app">
  <template>
    <v-app>
      <v-navigation-drawer app fixed clipped v-model="drawer">
        <v-list>
          <v-list-tile v-for="route in routes" :to="{path: route.path }">
            <v-list-tile-action>
              <v-icon>{{ route.icon }}</v-icon>
            </v-list-tile-action>
            <v-list-tile-content>
              <v-list-tile-title>{{ route.name }}</v-list-tile-title>
            </v-list-tile-content>
          </v-list-tile>
        </v-list>
      </v-navigation-drawer>
      <v-toolbar app fixed clipped-left>
        <v-toolbar-side-icon @click.stop="drawer = !drawer"></v-toolbar-side-icon>
        <v-toolbar-title class="white-text">J-RED Console</v-toolbar-title>
        <v-spacer></v-spacer>
        <v-toolbar-items>
	        <v-menu>
	          <v-toolbar-title slot="activator">
	              <v-list-tile avatar>
	                <v-list-tile-avatar>
	                  <img src="https://randomuser.me/api/portraits/men/85.jpg">
	                </v-list-tile-avatar>
	                <v-list-tile-content>
	                  <v-list-tile-title>[User Name]</v-list-tile-title>
	                </v-list-tile-content>
	              </v-list-tile>
	          </v-toolbar-title>
	          <v-list>
	            <v-list-tile :to="'/page1'">
	              <v-list-tile-title v-text="'Settings'"></v-list-tile-title>
	            </v-list-tile>
	            <v-list-tile :to="'/page2'">
	              <v-list-tile-title v-text="'Account'"></v-list-tile-title>
	            </v-list-tile>
	          </v-list>
	        </v-menu>
        </v-toolbar-items>
      </v-toolbar>
      <v-content>
        <v-container fluid>
          <v-fade-transition mode="out-in">
            <router-view></router-view>
          </v-fade-transition>
        </v-container>
      </v-content>  
      <v-footer class="pa-3">
        <v-spacer></v-spacer>
        <div>&copy;{{ new Date().getFullYear() }} <a href="http://www.nepheletech.com" target="nephele-tech-window">NepheleTech Limited</a></div>
      </v-footer>    
    </v-app>
  </template>
</div>

  <script id="workspaces" type="text/x-template">
    <div>
      <v-breadcrumbs :items="breadcrumbs" divider=">"></v-breadcrumbs>
      <v-card>
        <v-toolbar card flat>
          <v-icon>dashboard</v-icon> <h2>&nbsp;Workspaces</h2>
          <v-spacer></v-spacer>
          <v-btn small color="primary" v-on:click="doDeploy()">
            <v-icon left>add</v-icon>
            New Workspace
          </v-btn>
          <v-btn icon v-on:click=refresh()>
            <v-icon>refresh</v-icon>
          </v-btn>
        </v-toolbar>
        <v-card-title>
          <v-spacer></v-spacer>
          <v-text-field v-model="search" append-icon="search" label="Search" single-line hide-details></v-text-field>
        </v-card-title>
        <v-data-table 
            :headers="headers" 
            :items="items"
            :loading="loading"
            :search="search">
          <template slot="items" slot-scope="props">
            <td>
              <a style="font-weight:bold; font-size:125%;" 
                 v-bind:href="props.item.displayPath" 
                 v-bind:target="props.item.displayPath" 
                 v-if="props.item.isAvailable">{{ props.item.displayPath }}</a>
              <span style="font-weight:bold; font-size:125%;"
                 v-if="!props.item.isAvailable">{{ props.item.displayPath }}</span>
            </td>
            <td>{{ props.item.version }}</td>
            <td class="text-xs-center">
              {{ props.item.isAvailable }}
            </td>
            <td class="text-xs-right">{{ props.item.activeSessions }}</td>
            <td class="text-xs-center">
              <v-btn icon x-small v-if="!props.item.isAvailable" 
                 v-on:click="doStart(props.item)">
                <v-icon>play_arrow</v-icon>
              </v-btn>
              <v-btn icon x-small v-if="props.item.isAvailable" 
                 v-on:click="doStop(props.item)">
                <v-icon>stop</v-icon>
              </v-btn>
              <v-btn icon x-small :disabled="!props.item.isAvailable" 
                 v-on:click="doReload(props.item)">
                <v-icon>loop</v-icon>
              </v-btn>
              <v-btn icon x-small
                 v-on:click="doExport(props.item)">
                <v-icon>vertical_align_bottom</v-icon>
              </v-btn>
              <v-btn icon x-small
                 v-on:click="doImport(props.item)">
                <v-icon>vertical_align_top</v-icon>
              </v-btn>
              <v-btn icon x-small
                 v-on:click="doClone(props.item)">
                <v-icon>filter_none</v-icon>
              </v-btn>
              <v-btn icon x-small
                 v-on:click="doSettings(props.item)">
                <v-icon>settings</v-icon>
              </v-btn>
              <v-btn icon x-small 
                 v-on:click="doUndeploy(props.item)">
                <v-icon>delete</v-icon>
              </v-btn>
            </td>
          </template>
          <v-alert slot="no-results" :value="true" color="error" icon="warning">
            Your search for "{{ search }}" found no results.</v-alert>
        </v-data-table>
      </v-card>

      <v-dialog v-model="dialog" persistent width="512">
        <v-card>
          <v-card-title class="headline">Use Google's location service?</v-card-title>
          <v-card-text>
            <v-container grid-list-md>
              <v-layout wrap>
               <v-flex xs12 sm6 md4>
                 <v-text-field label="Legal first name*" required></v-text-field>
               </v-flex>
              </v-layout>
            </v-container>
          </v-card-text>
          <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn @click="dialog = false">Close</v-btn>
          </v-card-actions>
        </v-card>
      </v-dialog>

    </div>
  </script>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-router/dist/vue-router.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="main.js" type="module"></script>

</body>
</html>